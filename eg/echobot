#!/usr/bin/env perl
package EchoBot;
use v5.10;
use Bot::Backbone;

service chat_bot => (
    service    => 'ConsoleChat',
    name       => 'echo',
    dispatcher => 'default',
);

dispatcher default => as {
    command '!echo' => followed_by { 
        argument echo_this => ( match => qr/.*/ );
    } respond {
        my ($self, $message) = @_;
        $message->arguments->{echo_this};
    };
};

my $bot = EchoBot->new;
$bot->run;
